## 施工可能月チェッカー テストパターン

評価方法（y/n）
- 候補(月)に施工設定済月が含まれる → y
- 含まれない → n

前提
- 月は 12 ヶ月循環で扱う（年跨ぎをモジュロ12で処理）
- タイブレークは「近い将来月」（前回ベイト月からの前進順で早い方）
- 現在の月は判定に使用しない

### 単品継続（ベイトのみ）
- ルール: 候補 = {前回, 前回+1, 前回+2, 前回+3}（12ヶ月循環）/ 最適 = 前回



- 点検月は前回ベイト月から1〜6ヶ月先に設定されることが多い

| ケース | 前回ベイト月 | 点検月 | 施工設定済月 | 候補(月)           | 最適月 | 判定(y/n) |
|---|---:|---:|---:|---|---:|:--:|
| A8 | 3  | 5  | 4  | [3, 4, 5, 6]       | 3  |     y   |
| A9 | 11 | 2  | 1  | [11, 12, 1, 2]     | 11 |     y   |
| A10| 6  | 9  | 8  | [6, 7, 8, 9]       | 6  |     y   |
| A11| 12 | 3  | 2  | [12, 1, 2, 3]      | 12 |      y  |
| A12| 8  | 11 | 10 | [8, 9, 10, 11]     | 8  |      y |
| A13| 1  | 4  | 3  | [1, 2, 3, 4]       | 1  |      y  |
| A14| 5  | 8  | 7  | [5, 6, 7, 8]       | 5  |       y |

| A14| 7  |  12 | 8  | []       | 10  |       n |

#### 再消毒・セット（ベイト＋再消毒）
- ルール: 範囲1=前回±3、範囲2=点検±3、候補=交差を「前回以降」の前進順で抽出、最適=点検に最短（同距離は前進順）
- 点検月は前回ベイト月から1〜6ヶ月先に設定されることが多い

| ケース | 前回ベイト月 | 点検月 | 施工設定済月 | 候補(月)               | 最適月 | 判定(y/n) |
|---|---:|---:|---:|---|---:|:--:|
| B11| 10 | 2  | 1  | [10, 11, 12, 1, 2]   | 1  |        |
| B12| 4  | 7  | 6  | [4, 5, 6, 7, 8, 9, 10] | 6  |        |
| B13| 2  | 5  | 4  | [2, 3, 4, 5, 6, 7, 8] | 4  |        |
| B14| 6  | 9  | 8  | [6, 7, 8, 9, 10, 11, 12] | 8  |        |
| B15| 7  | 10 | 9  | [7, 8, 9, 10, 11, 12, 1] | 9  |        |
| B16| 9  | 12 | 11 | [9, 10, 11, 12, 1, 2, 3] | 11 |        |
| B17| 1  | 4  | 3  | [1, 2, 3, 4, 5, 6, 7] | 3  |        |
| B18| 12 | 3  | 2  | [12, 1, 2, 3, 4, 5, 6] | 2  |        |
| B19| 5  | 8  | 7  | [5, 6, 7, 8, 9, 10, 11] | 7  |        |
| B20| 3  | 6  | 5  | [3, 4, 5, 6, 7, 8, 9] | 5  |        |

### 点検月先送りパターンの特徴
- **単品継続**: 点検月が前回ベイト月から1〜3ヶ月先の場合、候補月に含まれることが多い
- **再消毒・セット**: 点検月が前回ベイト月から1〜6ヶ月先の場合、交差範囲が広がり、より柔軟な施工月選択が可能
- **施工設定済月**: 点検月の前後1ヶ月程度に設定されることが多い（実際の施工スケジュール考慮）

備考
- 判定欄に y/n をご記入ください。
- 追加のパターンが必要であれば指示ください。追記します。


